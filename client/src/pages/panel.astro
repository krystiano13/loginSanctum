---

import Layout from "./layout/layout.astro";

---

<Layout>
    <form>
        <h1>Hello  !!!</h1>
        <button type="submit">Logout</button>
    </form>
</Layout>

<script>
	const h1 = document.querySelector('h1');
	const form = document.querySelector('form');

	form.addEventListener('submit',(e) => {
		e.preventDefault();
		localStorage.removeItem('token');
		localStorage.removeItem('current_user');
		window.location.href = '/';
	})

	if(localStorage.getItem('current_user')) {
		h1.innerText = `Hello ${localStorage.getItem('current_user')}`;
	} 
	else {
		window.location.href = '/';
	}
</script>

<style lang="scss">
	form {
		display: flex;
		flex-direction: column;
		align-items: flex-start;

		min-width : 25rem;

		h1 {
			text-align: center;
			width : 100%;
			font-size: 2.5rem;
		}

		button, h1 {
			margin-top : 3rem;
			margin-bottom : 3rem;
		}

		button {
			width : 100%;
			padding : 0.75rem;
			box-sizing: border-box;
			font-size : 1.3rem;
		}

		button {
			border: none;
			background-color: rgb(255, 217, 0);
			cursor: pointer;

			transition: background-color 250ms;
		}

		button:hover {
			background-color: orange;
		}
	}
</style>

